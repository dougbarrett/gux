---
phase: 03-table-enhancements
plan: 02
type: execute
---

<objective>
Add filtering capability to the Table component with a search input.

Purpose: Enable users to quickly find rows by searching across column values.
Output: Table component with filter input and real-time filtering.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan context
@.planning/phases/03-table-enhancements/03-01-SUMMARY.md

# Source files
@components/table.go
@components/input.go

**Tech stack available:** Go WASM, syscall/js, Tailwind CSS
**Established patterns:** Props struct + NewXxx constructor + Element() method
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add filter state and UI to Table</name>
  <files>components/table.go</files>
  <action>
    1. Add filter configuration to TableProps:
       - `Filterable bool` - enables filter input
       - `FilterPlaceholder string` - placeholder text (default "Search...")
       - `FilterColumns []string` - specific columns to filter (nil = all columns)
    2. Add filter state to Table struct: `filterText string`, `allData []map[string]any` (unfiltered)
    3. Modify NewTable to:
       - If Filterable, create wrapper div containing filter input + table
       - Render search input above table with magnifying glass icon (üîç)
       - Style: full-width input with left padding for icon, rounded, border
    4. Add input event listener with debounce (150ms) to avoid excessive re-renders
    5. Store original data in allData, filter on input change
  </action>
  <verify>Build passes: `cd example && GOOS=js GOARCH=wasm go build -o ../dist/app.wasm ./app`</verify>
  <done>Table renders filter input when Filterable=true, input captures text with debounce</done>
</task>

<task type="auto">
  <name>Task 2: Implement filter logic</name>
  <files>components/table.go</files>
  <action>
    1. Add `filterData(data []map[string]any) []map[string]any` method
    2. If filterText is empty, return all data
    3. Filter logic:
       - Case-insensitive substring match
       - Check FilterColumns if specified, otherwise all columns
       - Convert values to string for matching (reuse toString helper)
       - Include row if ANY column contains the filter text
    4. Call filterData in SetData pipeline (filter first, then sort)
    5. Add `SetFilter(text string)` method for programmatic filtering
    6. Add `ClearFilter()` method to reset filter
    7. Update filter input value when SetFilter called programmatically

    Ensure sorting and filtering work together: filter ‚Üí sort ‚Üí render
  </action>
  <verify>Build passes and filtering works in example app table</verify>
  <done>Typing in filter input filters rows in real-time, works with sorting</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd example && GOOS=js GOARCH=wasm go build -o ../dist/app.wasm ./app` succeeds
- [ ] Filter input appears above table when Filterable=true
- [ ] Typing filters rows in real-time (with debounce)
- [ ] Filtering and sorting work together correctly
- [ ] ClearFilter resets to show all rows
</verification>

<success_criteria>

- Both tasks completed
- All verification checks pass
- No Go errors
- Filter + sort pipeline works correctly
</success_criteria>

<output>
After completion, create `.planning/phases/03-table-enhancements/03-02-SUMMARY.md`
</output>
