---
phase: 03-table-enhancements
plan: 03
type: execute
---

<objective>
Integrate pagination with the Table component using the existing Pagination component.

Purpose: Enable tables to handle large datasets with page-based navigation.
Output: Table component with integrated pagination showing subset of data per page.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plan context
@.planning/phases/03-table-enhancements/03-02-SUMMARY.md

# Source files
@components/table.go
@components/pagination.go

**Tech stack available:** Go WASM, syscall/js, Tailwind CSS
**Established patterns:** Props struct + NewXxx constructor + Element() method
**Key insight:** Pagination component already exists with full navigation support
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add pagination configuration and state to Table</name>
  <files>components/table.go</files>
  <action>
    1. Add pagination configuration to TableProps:
       - `Paginated bool` - enables pagination
       - `PageSize int` - items per page (default 10)
       - `ShowPageInfo bool` - show "Showing X-Y of Z" (default true)
       - `OnPageChange func(page int)` - callback for external pagination handling
    2. Add pagination state to Table struct:
       - `currentPage int` (1-indexed)
       - `pagination *Pagination` - the pagination component instance
    3. Modify NewTable container structure:
       - If Paginated, wrap table in div with pagination below
       - Create Pagination component with ItemPagination helper
       - Wire OnPageChange to update currentPage and re-render
    4. Ensure container structure: filter (if enabled) → table → pagination (if enabled)
  </action>
  <verify>Build passes: `cd example && GOOS=js GOARCH=wasm go build -o ../dist/app.wasm ./app`</verify>
  <done>Table renders pagination controls when Paginated=true, pagination component wired up</done>
</task>

<task type="auto">
  <name>Task 2: Implement page-aware data rendering</name>
  <files>components/table.go</files>
  <action>
    1. Add `paginateData(data []map[string]any) []map[string]any` method
    2. Calculate start/end indices based on currentPage and PageSize
    3. Return slice of data for current page only
    4. Pipeline order in SetData: filter → sort → paginate → render
    5. Update pagination component when data changes:
       - Recalculate total pages based on filtered data length
       - Reset to page 1 if current page exceeds new total
    6. Add methods:
       - `SetPage(page int)` - navigate to specific page
       - `NextPage()` / `PrevPage()` - navigation helpers
       - `TotalPages() int` - get total page count
       - `CurrentPage() int` - get current page
    7. Ensure pagination updates when filter changes (reset to page 1)
  </action>
  <verify>Build passes and pagination works with filter and sort in example app</verify>
  <done>Pagination shows correct page of data, works with filter+sort, page info accurate</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd example && GOOS=js GOARCH=wasm go build -o ../dist/app.wasm ./app` succeeds
- [ ] Pagination controls appear below table when Paginated=true
- [ ] Clicking page numbers shows correct data subset
- [ ] Page info text ("Showing X-Y of Z") is accurate
- [ ] Filter changes reset pagination to page 1
- [ ] Filter + sort + pagination all work together
</verification>

<success_criteria>

- Both tasks completed
- All verification checks pass
- No Go errors
- Full pipeline: filter → sort → paginate works correctly
</success_criteria>

<output>
After completion, create `.planning/phases/03-table-enhancements/03-03-SUMMARY.md`
</output>
