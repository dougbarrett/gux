---
phase: 05-data-states
plan: 03
type: execute
---

<objective>
Create a reusable EmptyState component and integrate it with the Table component for empty data and no-results states.

Purpose: Provide clear, friendly feedback when tables have no data, improving UX and guiding users on next actions.
Output: EmptyState component and Table integration showing appropriate empty states.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md

# Prior plans in this phase:
@.planning/phases/05-data-states/05-01-SUMMARY.md
@.planning/phases/05-data-states/05-02-SUMMARY.md

# Relevant source files:
@components/table.go
@components/card.go

**Tech stack available:** Go WASM, syscall/js, Tailwind CSS
**Established patterns:** Props struct pattern, component Element() method
**Constraining decisions:**
- Use emoji for icons (consistent with project style)
- Follow existing component patterns from Card, Modal
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create EmptyState component</name>
  <files>components/empty_state.go</files>
  <action>
Create empty_state.go with WASM build tag containing:

1. EmptyStateProps struct:
   - Icon string - emoji or text icon (default "ðŸ“­")
   - Title string - main heading (required)
   - Description string - explanatory text (optional)
   - ActionLabel string - button text (optional)
   - OnAction func() - button click handler (optional)
   - Compact bool - smaller variant for inline use

2. EmptyState component:
   - Centered layout with flex column
   - Large icon (text-4xl or text-6xl based on Compact)
   - Title in font-medium text-gray-900 dark:text-gray-100
   - Description in text-sm text-gray-500 dark:text-gray-400
   - Optional action button (primary style)
   - Appropriate spacing (py-8 for normal, py-4 for compact)

3. Convenience constructors:
   - NoData(title string) *EmptyState - generic "no data" state
   - NoResults(onClear func()) *EmptyState - "no results found" with clear filter button
   - NoSelection() *EmptyState - "nothing selected" state

4. Element() method returning the container

Use muted colors and friendly messaging. Icon should be prominent but not overwhelming.
  </action>
  <verify>GOOS=js GOARCH=wasm go build -o /dev/null ./components/</verify>
  <done>EmptyState component with props, convenience constructors, and Element() method</done>
</task>

<task type="auto">
  <name>Task 2: Integrate EmptyState with Table component</name>
  <files>components/table.go, example/app/main.go</files>
  <action>
1. Extend TableProps:
   - EmptyState *EmptyState - custom empty state (optional)
   - EmptyTitle string - title for default empty state (optional)
   - EmptyDescription string - description for default empty state (optional)

2. Modify Table.renderData():
   - After filter/sort/paginate, check if displayData is empty
   - If empty and allData is also empty: show "no data" empty state
   - If empty but allData has items: show "no results" empty state with clear filter action
   - Use custom EmptyState if provided, else create default
   - Hide pagination when showing empty state
   - Show empty state instead of empty tbody

3. Empty state rendering:
   - Replace tbody content with empty state
   - Center in table area
   - Span all columns (use colspan)
   - Or render outside table but inside container

4. Update example app:
   - Add demo showing empty table with custom EmptyState
   - Add demo showing filter that produces no results
   - Show both default and custom empty state variants

Follow Table's existing pattern of managing display state and re-rendering.
  </action>
  <verify>cd example && make build succeeds</verify>
  <done>Table shows appropriate empty states when no data or no filter results</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>EmptyState component integrated with Table for empty/no-results scenarios</what-built>
  <how-to-verify>
    1. Run: cd example && make dev
    2. Visit: http://localhost:8080
    3. Find a table demo and test:
       a. Empty table: Should show friendly "no data" message with icon
       b. Filter with no matches: Type gibberish in filter, should show "no results" with clear button
       c. Click clear: Filter should reset, data should reappear
    4. Confirm:
       - Empty states are centered and well-styled
       - Icons are visible and appropriate
       - Text is readable in both light and dark modes
       - Action buttons work correctly
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `GOOS=js GOARCH=wasm go build -o /dev/null ./...` succeeds
- [ ] `cd example && make build` succeeds
- [ ] EmptyState component renders correctly
- [ ] Table shows empty state when no data
- [ ] Table shows "no results" state when filter matches nothing
- [ ] Clear filter action works from empty state
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- Human verified empty state appearance
- Empty states provide clear, actionable feedback
- Works in both light and dark modes
- Phase 5 complete
</success_criteria>

<output>
After completion, create `.planning/phases/05-data-states/05-03-SUMMARY.md`:

# Phase 5 Plan 3: Empty States Summary

**[Substantive one-liner]**

## Accomplishments
## Files Created/Modified
## Decisions Made
## Issues Encountered
## Next Phase Readiness

Phase 5: Data & States complete, ready for Phase 6: Progressive Enhancement
</output>
