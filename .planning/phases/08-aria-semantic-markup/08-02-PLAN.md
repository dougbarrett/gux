---
phase: 08-aria-semantic-markup
plan: 02
type: execute
domain: go-wasm
---

<objective>
Add ARIA live regions to Alert, Toast, Progress, and Spinner components.

Purpose: Ensure status messages and loading states are announced to screen reader users.
Output: Four components with proper role="alert"/"status"/"progressbar" and aria-live attributes.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-accessibility-audit/A11Y-AUDIT.md

# Source files to modify:
@components/alert.go
@components/toast.go
@components/progress.go
@components/spinner.go

**From Phase 7 Audit - Live Region Issues:**
- Alert: Missing role="alert" for error/warning, role="status" for info/success
- Toast: No ARIA live region - messages not announced
- Progress: Missing role="progressbar", aria-valuenow/min/max
- Spinner: Missing role="status", aria-label for loading context

**WAI-ARIA Patterns:**
- Alert (urgent): role="alert" (implicit aria-live="assertive")
- Status (polite): role="status" (implicit aria-live="polite")
- Progressbar: role="progressbar", aria-valuenow, aria-valuemin="0", aria-valuemax="100"
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add ARIA live regions to Alert and Toast</name>
  <files>components/alert.go, components/toast.go</files>
  <action>
**Alert component (alert.go):**
1. Add role based on variant:
   - AlertError, AlertWarning → `role="alert"` (assertive, interrupts)
   - AlertInfo, AlertSuccess → `role="status"` (polite, waits)
2. Add `aria-live` attribute matching role (explicit for clarity):
   - role="alert" → aria-live="assertive"
   - role="status" → aria-live="polite"
3. Add `aria-hidden="true"` to icon span (decorative)
4. Add `aria-label="Dismiss alert"` to dismiss button

**Toast component (toast.go):**
1. Add to toast container:
   - `role="status"` (toasts are non-urgent notifications)
   - `aria-live="polite"`
   - `aria-atomic="true"` (announce entire toast, not just changes)
2. Add `aria-hidden="true"` to icon if present
3. Add `aria-label="Dismiss notification"` to close button if present

Pattern: Live regions announce dynamic content changes to AT users.
  </action>
  <verify>Build passes: `cd example && make build` succeeds without errors</verify>
  <done>Alert has role based on variant, Toast has role="status" and aria-live="polite", icons are aria-hidden, dismiss buttons have labels</done>
</task>

<task type="auto">
  <name>Task 2: Add ARIA progressbar pattern to Progress and Spinner</name>
  <files>components/progress.go, components/spinner.go</files>
  <action>
**Progress component (progress.go):**
1. Add to the track container (or bar, depending on what represents the widget):
   - `role="progressbar"`
   - `aria-valuenow={value}` (0-100)
   - `aria-valuemin="0"`
   - `aria-valuemax="100"`
2. For indeterminate progress:
   - Omit aria-valuenow (indicates indeterminate)
   - Or use aria-valuetext="Loading..."
3. Add `aria-label` prop support for context (e.g., "Uploading file")
4. Update SetValue() to also update aria-valuenow

**Spinner component (spinner.go):**
1. Add to spinner container:
   - `role="status"` (spinner indicates ongoing activity)
   - `aria-live="polite"`
2. Add visually hidden text or aria-label:
   - Default: `aria-label="Loading"`
   - Support custom label via props (e.g., "Saving changes")
3. Add `aria-hidden="true"` to the visual spinner SVG/element (decorative)

Pattern: Progress uses progressbar role with value attributes; Spinner uses status role with label.
  </action>
  <verify>Build passes: `cd example && make build` succeeds without errors</verify>
  <done>Progress has role="progressbar" with aria-value attributes, Spinner has role="status" with aria-label</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd example && make build` succeeds without errors
- [ ] Alert uses role="alert" for error/warning, role="status" for info/success
- [ ] Toast has role="status" and aria-live="polite"
- [ ] Progress has role="progressbar" with aria-valuenow/min/max
- [ ] Spinner has role="status" with aria-label
- [ ] All decorative icons have aria-hidden="true"
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No build errors
- Status messages are announced to screen readers
</success_criteria>

<output>
After completion, create `.planning/phases/08-aria-semantic-markup/08-02-SUMMARY.md`
</output>
